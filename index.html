<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>
    <div id="app">
        Hola {{nombre}} estamos en el año {{anio}}
        Semestres: {{semestres[0]}}
        Contador: {{contador}}

        <button type= "button" v-on:click="stopInterval">{{btnMessage}}</button>
        <hr>
        <select v-model ="años">
            <option value="0">Todos los años</option>
            <option value="1">2020</option>
            <option value="2">2021</option>
            <option value="3">2022</option>
        </select>
        <label for=""> id seleccionado en select: {{años}}</label>
        <hr>
        Seleccion: <input type="checkbox" v-model="activo">
        <hr>
        Meses: 
        <ul>
            <li v-for="mes in meses_id">{{mes.id}} - {{mes.nombmes}}</li>
        </ul> 
        <hr>
        Usando API Usuarios para obtener datos: <br>
        {{usuarios}}
        <hr>
        Usando API Posts para obtener datos: <br>
        {{posts}}
    </div>
    <script src="https://unpkg.com/vue@next"></script>
    <script>
        //Tenemos tipos estructura
        //data, methods, props, mounted, created, computed, watch, destroyed
        
        const holaMundo = {
            data() {
                return{
                    nombre: 'David',
                    anio: 2022,
                    semestres: ['1er Semestre','2do Semestre','3er Semestre'],
                    meses_id: [
                        {
                            id: 1,
                            nombmes:'Enero'
                        },
                        {
                            id: 2,
                            nombmes:'Febrero'
                        },
                        {
                            id: 3,
                            nombmes:'Marzo'
                        },
                        {
                            id: 4,
                            nombmes:'Abril'
                        },
                    ],
                    contador: 0,
                    interval: null,
                    isRunning: false,
                    btnMessage: 'Detener',
                    años: '',
                    activo: false, 
                    usuarios: [],
                    posts: []
                }
            },
            mounted(){
                this.interval= setInterval(() => {
                    this.contador ++
                },1000);
                this.isRunning= true;
                this.getUsuarios();
                this.getPosts();
            },
            methods: {
                stopInterval()
                {
                    if(this.isRunning){
                        clearInterval(this.interval);
                        this.isRunning = false;
                        this.btnMessage = 'Continuar';
                    }else{
                        this.interval = setInterval(() => {
                        this.contador ++
                        },1000); 
                        this.isRunning = true;
                        this.btnMessage = 'Detener';
                    }
                },
                getUsuarios()
                {
                    fetch('https://jsonplaceholder.typicode.com/users')
                    .then(response => response.json())
                    .then(data => {
                        this.usuarios = data;
                    })
                },
                getPosts()
                {
                    fetch('https://jsonplaceholder.typicode.com/posts')
                    .then(response => response.json())
                    .then(data => {
                        this.posts = data;
                    })
                },
            }
        }

        var mountApp = Vue.createApp(holaMundo).mount('#app')
    </script>
</body>
</html>